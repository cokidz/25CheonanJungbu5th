<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>25년 천안중부 암송구절</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: #eef2f7;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #2d3748;
            font-size: 2.8em;
            margin-bottom: 40px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        .category {
            margin-bottom: 30px;
        }
        .category-title.infant {
            background: linear-gradient(90deg, #f1c40f, #f7e1a1);
        }
        .category-title.junior {
            background: linear-gradient(90deg, #27ae60, #a3e4b6);
        }
        .category-title.senior {
            background: linear-gradient(90deg, #4a90e2, #a1c4fd);
        }
        .category-title {
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.5em;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease;
        }
        .category-title:hover {
            transform: translateY(-2px);
        }
        .months {
            display: none;
            margin-top: 15px;
        }
        .month-card {
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .month-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }
        .month-title {
            color: #e53e3e;
            font-size: 1.3em;
            margin-bottom: 15px;
            border-bottom: 2px solid #fed7d7;
            padding-bottom: 5px;
            cursor: pointer;
        }
        .month-title:hover {
            color: #c53030;
        }
        .verses {
            display: block;
            transition: all 0.3s ease;
        }
        .verses.hidden {
            display: none;
        }
        .verse {
            background-color: #f7fafc;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            margin-bottom: 10px;
        }
        .verse.selected {
            border-color: #4a90e2;
            box-shadow: 0 0 8px rgba(74, 144, 226, 0.5);
        }
        .verse-text {
            font-size: 1em;
        }
        .verse-ref {
            display: block;
            font-size: 0.9em;
            color: #718096;
            margin-top: 5px;
        }
        .verse-desc {
            display: inline;
            font-size: 0.9em;
            color: #718096;
            margin-left: 5px;
        }
        #print-btn {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #38a169;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
        }
        #print-btn:hover {
            background-color: #2f855a;
        }
        @media (max-width: 600px) {
            h1 {
                font-size: 2em;
            }
            .category-title {
                font-size: 1.2em;
                padding: 10px 15px;
            }
            .month-title {
                font-size: 1.1em;
            }
            .verse {
                padding: 10px;
            }
            #print-btn {
                font-size: 1em;
                padding: 8px 16px;
            }
        }
    </style>
</head>
<body>
    <h1>25년 천안중부 암송구절</h1>
    <div id="content"></div>
    <button id="print-btn" onclick="printSelectedVerses()">체크된 구절 인쇄</button>

    <script>
        // 텍스트 데이터 직접 삽입 (임시로 사용자가 제공한 데이터 사용)
        const verseText = `
유아부 (6-7세) - 월 4개, 연간 48개
월별 주제 및 핵심 교리 기반 구절
1월: 하나님의 본성  
"하나님은 사랑이시다" (요한일서 4:8) - 하나님의 사랑  
"주는 나의 목자시니" (시편 23:1) - 하나님의 돌보심  
"하나님은 선하시다" (시편 100:5) - 하나님의 선하심  
"주는 영원하시다" (시편 90:2) - 하나님의 영원성
2월: 창조  
"하나님이 천지를 창조하시니라" (창세기 1:1) - 창조주 하나님  
"하나님이 사람을 지으셨다" (창세기 1:27, 일부) - 인간의 존귀함  
"주는 만물을 만드셨다" (시편 104:24, 일부) - 하나님의 전능  
"하늘이 주를 찬양하도다" (시편 19:1, 일부) - 창조의 영광
저학년 (초1-초3) - 월 8개, 연간 96개
월별 주제 및 핵심 교리 기반 구절
1월: 하나님의 본성  
"하나님이 세상을 이처럼 사랑하사" (요한복음 3:16, 일부) - 하나님의 사랑  
"여호와는 나의 목자시니" (시편 23:1) - 하나님의 돌보심  
"주는 선하시며 인자하시도다" (시편 100:5) - 하나님의 선하심  
"주는 영원부터 영원까지 계시다" (시편 90:2) - 하나님의 영원성  
"하나님은 나의 힘이시라" (시편 46:1) - 하나님의 능력  
"주는 거룩하시도다" (시편 99:9) - 하나님의 거룩함  
"하나님은 진리이시니라" (요한복음 17:17, 일부) - 하나님의 진실  
"주는 나의 피난처시라" (시편 91:2) - 하나님의 보호
고학년 (초4-초6) - 월 15개, 연간 180개
월별 주제 및 핵심 교리 기반 구절 (전체)
1월: 하나님의 본성  
"하나님이 세상을 이처럼 사랑하사 독생자를 주셨으니" (요한복음 3:16) - 하나님의 사랑  
"여호와는 나의 목자시니 내게 부족함이 없으리로다" (시편 23:1) - 하나님의 돌보심  
"주는 선하시며 인자하심이 영원하도다" (시편 100:5) - 하나님의 선하심  
"주는 영원부터 영원까지 계시는 하나님이시라" (시편 90:2) - 하나님의 영원성  
"하나님은 우리에게 피난처와 힘이시라" (시편 46:1) - 하나님의 능력  
"주는 거룩하사 온 땅에 영광을 나타내시도다" (시편 99:9) - 하나님의 거룩함  
"하나님은 진리이시며 그 말씀도 진리이시니라" (요한복음 17:17, 일부) - 하나님의 진실  
"주는 나의 피난처요 방패시라 내가 주를 의지하리이다" (시편 91:2) - 하나님의 보호  
"하나님은 사랑이시라 사랑 안에 거하는 자는 하나님 안에 있나이다" (요한일서 4:16) - 하나님의 본질  
"주는 전능하시며 하늘과 땅을 지으셨도다" (예레미야 32:17) - 하나님의 전능  
"하나님은 공의로우사 모든 길을 인도하시도다" (시편 89:14) - 하나님의 공의  
"주는 자비로우시며 은혜가 풍성하시도다" (시편 145:8) - 하나님의 자비  
"하나님은 하늘에 계시며 땅을 다스리시도다" (시편 115:3) - 하나님의 주권  
"주는 나의 기쁨이시요 나의 노래시라" (시편 28:7) - 하나님의 기쁨  
"하나님은 살아계신 하나님이시며 영원히 찬양받으시리라" (다니엘 6:26) - 하나님의 생존
        `.trim();

        function toggleMonths(id) {
            const months = document.getElementById(id);
            if (months.style.display === "block") {
                months.style.display = "none";
            } else {
                document.querySelectorAll('.months').forEach(el => el.style.display = "none");
                months.style.display = "block";
            }
        }

        function toggleVerses(element) {
            const verses = element.nextElementSibling;
            verses.classList.toggle('hidden');
        }

        function toggleSelect(element) {
            element.classList.toggle('selected');
        }

        function renderContent(text) {
            const lines = text.split('\n').map(line => line.trim()).filter(line => line);
            const contentDiv = document.getElementById('content');
            contentDiv.innerHTML = '';

            let currentCategory = null;
            let currentMonth = null;
            let categoryDiv, monthsDiv, monthDiv, versesDiv;

            lines.forEach(line => {
                // 카테고리 인식
                if (line.match(/^(유아부|저학년|고학년)/)) {
                    currentCategory = line;
                    categoryDiv = document.createElement('div');
                    categoryDiv.className = 'category';

                    const categoryTitle = document.createElement('div');
                    categoryTitle.className = `category-title ${currentCategory.includes('유아부') ? 'infant' : currentCategory.includes('저학년') ? 'junior' : 'senior'}`;
                    categoryTitle.textContent = currentCategory;
                    categoryTitle.onclick = () => toggleMonths(`${currentCategory}-months`);
                    categoryDiv.appendChild(categoryTitle);

                    monthsDiv = document.createElement('div');
                    monthsDiv.id = `${currentCategory}-months`;
                    monthsDiv.className = 'months';
                    categoryDiv.appendChild(monthsDiv);

                    contentDiv.appendChild(categoryDiv);
                }
                // 불필요한 줄 무시
                else if (line === "월별 주제 및 핵심 교리 기반 구절" || line === "월별 주제 및 핵심 교리 기반 구절 (전체)") {
                    return;
                }
                // 월별 주제 인식
                else if (line.match(/^\d+월:/) && currentCategory) {
                    currentMonth = line;
                    monthDiv = document.createElement('div');
                    monthDiv.className = 'month-card';

                    const monthTitle = document.createElement('div');
                    monthTitle.className = 'month-title';
                    monthTitle.textContent = currentMonth;
                    monthTitle.onclick = function() { toggleVerses(this); };
                    monthDiv.appendChild(monthTitle);

                    versesDiv = document.createElement('div');
                    versesDiv.className = 'verses';
                    monthDiv.appendChild(versesDiv);

                    monthsDiv.appendChild(monthDiv);
                }
                // 구절 인식
                else if (line.match(/^".*"/) && currentMonth) {
                    const [textPart, desc] = line.split(' - ');
                    const match = textPart.match(/"(.*)" \((.*)\)/);
                    if (match) {
                        const [text, ref] = match.slice(1);
                        const verseDiv = document.createElement('div');
                        verseDiv.className = 'verse';
                        verseDiv.setAttribute('data-text', `"${text}" (${ref})`);
                        verseDiv.setAttribute('data-desc', desc);
                        verseDiv.onclick = function() { toggleSelect(this); };

                        const verseText = document.createElement('span');
                        verseText.className = 'verse-text';
                        verseText.textContent = text;
                        verseDiv.appendChild(verseText);

                        const verseRef = document.createElement('span');
                        verseRef.className = 'verse-ref';
                        verseRef.innerHTML = `(${ref}) <span class="verse-desc">${desc}</span>`;
                        verseDiv.appendChild(verseRef);

                        versesDiv.appendChild(verseDiv);
                    }
                }
            });
        }

        function printSelectedVerses() {
            const selectedVerses = document.querySelectorAll('.verse.selected');
            if (selectedVerses.length === 0) {
                alert("선택된 구절이 없습니다!");
                return;
            }

            let printContent = `
                <html>
                <head>
                    <title>선택된 암송구절</title>
                    <style>
                        body { font-family: 'Segoe UI', Arial, sans-serif; padding: 20px; }
                        h2 { color: #2d3748; }
                        .verse { margin-bottom: 15px; }
                        .verse-text { font-size: 1em; }
                        .verse-ref { display: block; color: #718096; font-size: 0.9em; margin-top: 5px; }
                        .verse-desc { margin-left: 5px; }
                    </style>
                </head>
                <body>
                    <h2>선택된 암송구절</h2>
            `;

            selectedVerses.forEach(verse => {
                const text = verse.querySelector('.verse-text').textContent;
                const ref = verse.querySelector('.verse-ref').childNodes[0].textContent;
                const desc = verse.getAttribute('data-desc');
                printContent += `
                    <div class="verse">
                        <div class="verse-text">${text}</div>
                        <span class="verse-ref">${ref} <span class="verse-desc">${desc}</span></span>
                    </div>
                `;
            });

            printContent += `
                </body>
                </html>
            `;

            const printWindow = window.open('', '_blank', 'width=600,height=400');
            if (!printWindow) {
                alert("팝업 차단을 해제해 주세요!");
                return;
            }
            printWindow.document.open();
            printWindow.document.write(printContent);
            printWindow.document.close();
            printWindow.focus();
            setTimeout(() => printWindow.print(), 500);
        }

        // 페이지 로드 시 데이터 렌더링
        window.onload = function() {
            renderContent(verseText);
        };
    </script>
</body>
</html>
